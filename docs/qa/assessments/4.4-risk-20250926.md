# Risk Profile: Story 4.4

Date: 2025-09-26
Reviewer: Quinn (Test Architect)

## Executive Summary

- Total Risks Identified: 5
- Critical Risks: 1
- High Risks: 3
- Risk Score: 42/100

Partner onboarding governs access to DocuGen’s API. Weak credential issuance or governance would create significant security incidents and compliance gaps. The top risk is distributing API credentials without robust vetting and approval trails.

## Critical Risks Requiring Immediate Attention

### 1. SEC-015: API Credentials Issued Without Verified Vetting & Approval
**Score:** 9 (Critical)

- **Probability:** High (3) – Manual onboarding often shortcuts review steps to accelerate pilots.
- **Impact:** High (3) – Untrusted parties gain API access, potentially exfiltrating data or overloading the platform.
- **Mitigation:**
  - Embed approval workflow with compliance/legal sign-off before credentials generate.
  - Automate credential issuance via ticketing integration storing evidence; reject ad-hoc issuance.
  - Audit credential creation logs and rotate immediately when vetting gaps detected.
- **Testing Focus:** Security audits of onboarding workflow; penetration tests simulating unvetted partner requests.

## High-Risk Items

### 2. OPS-020: Onboarding Checklist Drift Leads to Missed Steps
**Score:** 6 (High)

- **Probability:** Medium (2) – Updating documentation without syncing checklist is common.
- **Impact:** High (3) – Partners skip key tasks (rate limit configuration, logging), causing incidents.
- **Mitigation:**
  - Maintain single source-of-truth checklist enforced via onboarding tooling.
  - Require completion evidence before activation; monitor checklist completion metrics.
  - Review checklist quarterly with stakeholders.
- **Testing Focus:** Process audits; sampling partner onboarding records.

### 3. DATA-019: Starter Kits Drift from Live API Contract
**Score:** 6 (High)

- **Probability:** Medium (2) – API evolves but Postman collections or samples may lag.
- **Impact:** High (3) – Partners adopt outdated patterns, increasing support requests and mis-implementations.
- **Mitigation:**
  - Auto-generate collections from OpenAPI spec; run contract tests verifying parity.
  - Version starter kits with release notes and deprecation warnings.
  - Monitor support tickets referencing sample inaccuracies.
- **Testing Focus:** Contract tests comparing starter kit requests/responses to API; docs validation.

### 4. PERF-014: Rate Limit Policies Miscommunicated or Misconfigured
**Score:** 6 (High)

- **Probability:** Medium (2) – Onboarding may rely on manual email or outdated docs.
- **Impact:** High (3) – Partners exceed quotas or throttle themselves unnecessarily, causing SLA breaches.
- **Mitigation:**
  - Publish rate limits programmatically via API introspection; enforce via policy-as-code.
  - Provide sandbox testing with limit feedback and onboarding training.
  - Alert on limit violations with partner context to drive education.
- **Testing Focus:** Load tests verifying limit enforcement; documentation review of communicated policies.

## Medium-Risk Items

### 5. BUS-015: Compliance Sign-Off Artifacts Not Retained
**Score:** 4 (Medium)

- **Probability:** Medium (2) – Sign-offs captured via email risk being lost.
- **Impact:** Medium (2) – Auditors question onboarding rigor; remediation requires costly evidence gathering.
- **Mitigation:**
  - Store approvals in evidence repository linked to partner ID and onboarding date.
  - Automate retention policies to ensure availability for audits.
  - Review evidence completeness monthly.
- **Testing Focus:** Evidence repository audits; compliance checks on onboarding records.

## Risk Distribution

### By Category
- Security: 1 risk (1 critical)
- Operational: 1 risk (0 critical, 1 high)
- Data: 1 risk (0 critical, 1 high)
- Performance: 1 risk (0 critical, 1 high)
- Business: 1 risk (0 critical, 0 high, 1 medium)

### By Component
- Credential issuance workflow: 1 risk
- Onboarding checklist tooling: 1 risk
- Starter kit assets: 1 risk
- Rate limiting policies: 1 risk
- Evidence retention: 1 risk

## Risk Matrix

| Risk ID  | Description                                          | Probability | Impact | Score | Priority |
|----------|------------------------------------------------------|-------------|--------|-------|----------|
| SEC-015  | API credentials issued without verified vetting       | High (3)    | High (3) | 9   | Critical |
| OPS-020  | Onboarding checklist drift leads to missed steps      | Medium (2)  | High (3) | 6   | High     |
| DATA-019 | Starter kits drift from live API contract             | Medium (2)  | High (3) | 6   | High     |
| PERF-014 | Rate limit policies miscommunicated/misconfigured     | Medium (2)  | High (3) | 6   | High     |
| BUS-015  | Compliance sign-off artifacts not retained            | Medium (2)  | Medium (2) | 4 | Medium   |

## Detailed Risk Register

| Risk ID  | Category | Components Affected                     | Detection Method                                | Mitigation Owner      | Residual Risk |
|----------|----------|-----------------------------------------|-------------------------------------------------|-----------------------|----------------|
| SEC-015  | Security | Credential issuance workflow, Keycloak  | Security audits, approval log reviews           | Security & Compliance | Low with automated gating |
| OPS-020  | Operational | Onboarding checklist tooling         | Process audits, completion metrics              | Partner Success       | Medium – requires periodic review |
| DATA-019 | Data     | Starter kits, documentation             | Contract tests, doc linting                     | Developer Enablement  | Medium – reliant on automation |
| PERF-014 | Performance | Rate limit configs, partner training | Load tests, telemetry on quota usage            | SRE & Partner Success | Medium – continuous monitoring needed |
| BUS-015  | Business | Evidence repository, compliance docs    | Monthly audits, retention monitoring            | Compliance Operations | Low with process adherence |

## Risk-Based Testing Strategy

### Priority 1: Critical & High Risks
- Penetration tests on onboarding workflow to ensure credential issuance requires approvals (SEC-015).
- Process audits validating checklist completion and starter kit parity (OPS-020, DATA-019).
- Load tests and telemetry checks for rate limit enforcement/communication (PERF-014).

### Priority 2: Medium Risks
- Evidence repository audits verifying sign-off retention (BUS-015).

### Priority 3: Baseline Regression
- Smoke tests covering onboarding portal flows, starter kit downloads, and API credential activation.

## Risk Acceptance Criteria

### Must Fix Before Production
- SEC-015 controls must guarantee credentials only issue after verified approvals.
- OPS-020/DATA-019/PERF-014 mitigations must demonstrate checklist accuracy, starter kit parity, and rate limit clarity.

### Can Deploy with Mitigation
- BUS-015 acceptable with documented evidence retention backlog and monthly audits.

### Accepted Risks
- None accepted currently.

## Monitoring Requirements
- Track credential issuance events, checklist completion rates, starter kit updates, and rate limit violations.
- Monitor compliance evidence completeness metrics.

## Risk Review Triggers
- New partner onboarding types or expansion to additional regions.
- API version releases altering contract or quota definitions.
- Audit findings referencing onboarding governance.

## Recommendations Summary
- Tighten credential issuance workflow with mandatory approvals and monitoring.
- Keep onboarding assets and checklists synchronised with live API behaviour.
- Document and retain compliance sign-offs to support audits.

Risk profile: docs/qa/assessments/4.4-risk-20250926.md
