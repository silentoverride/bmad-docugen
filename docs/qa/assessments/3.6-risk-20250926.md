# Risk Profile: Story 3.6

Date: 2025-09-26
Reviewer: Quinn (Test Architect)

## Executive Summary

- Total Risks Identified: 5
- Critical Risks: 1
- High Risks: 3
- Risk Score: 46/100

Environment automation ensures DocuGen deployments remain reproducible. The largest threat is infrastructure drift or manual changes bypassing IaC, which would invalidate audit trails and introduce non-determinism.

## Critical Risks Requiring Immediate Attention

### 1. OPS-016: Manual Environment Changes Bypass IaC Governance
**Score:** 9 (Critical)

- **Probability:** High (3) – Teams often hotfix infrastructure directly during incident response.
- **Impact:** High (3) – Configuration drift undermines reproducibility, complicates audits, and can introduce security gaps.
- **Mitigation:**
  - Enforce change management requiring IaC updates with approval; restrict console access and log manual modifications.
  - Implement drift detection alarms that block promotions until reconciled.
  - Capture evidence of reconciled drift for compliance review.
- **Testing Focus:** Drift detection tests, simulated console changes verifying alerts.

## High-Risk Items

### 2. TECH-012: Promotion Pipeline Skips Mandatory Smoke Tests
**Score:** 6 (High)

- **Probability:** Medium (2) – Conditional logic or misconfigured promoters may bypass validation steps.
- **Impact:** High (3) – Broken builds promote to higher environments, risking outages.
- **Mitigation:**
  - Treat smoke tests as non-optional gates; fail pipeline if tests missing or failing.
  - Add policy requiring explicit waivers with approvals logged.
  - Monitor pipeline runs for skipped stages.
- **Testing Focus:** Pipeline integration tests enforcing smoke-test execution; monitoring on stage status.

### 3. DATA-015: Configuration Version Control Lacks Review & Audit Trails
**Score:** 6 (High)

- **Probability:** Medium (2) – Environment variables and feature flags may live outside Git or skip review.
- **Impact:** High (3) – Undocumented changes hamper troubleshooting and compliance verification.
- **Mitigation:**
  - Store all environment config in repo with required code review and signed commits.
  - Generate diff reports per promotion capturing config changes.
  - Integrate with compliance evidence store (Epic 5.2) for audit accessibility.
- **Testing Focus:** CI checks ensuring configuration directories only changed via PR; audits on signed commits.

### 4. PERF-012: Promotion Pipeline Lacks Rollback Automation
**Score:** 6 (High)

- **Probability:** Medium (2) – Rollback steps often left manual or untested.
- **Impact:** High (3) – Failed promotions prolong outages and risk data inconsistencies.
- **Mitigation:**
  - Build automated rollback workflows with smoke verification.
  - Run regular rollback drills and capture evidence.
  - Include rollback success criteria in promotion checklist.
- **Testing Focus:** Staged rollback rehearsals; pipeline tests simulating failure.

## Medium-Risk Items

### 5. BUS-011: Runbooks & Escalation Paths Not Updated Across Environments
**Score:** 4 (Medium)

- **Probability:** Medium (2) – Multi-environment documentation tends to lag IaC updates.
- **Impact:** Medium (2) – Incident responders lack clarity, delaying mitigation and failing audits.
- **Mitigation:**
  - Tie runbook updates to IaC change approvals; require sign-off per environment.
  - Maintain escalation matrix with on-call rotations and review quarterly.
  - Store runbooks in version control with environment tags.
- **Testing Focus:** Documentation audits; tabletop exercises verifying escalation effectiveness.

## Risk Distribution

### By Category
- Operational: 2 risks (1 critical, 1 high)
- Technical: 1 risk (0 critical, 1 high)
- Data: 1 risk (0 critical, 1 high)
- Performance: 1 risk (0 critical, 1 high)
- Business: 1 risk (0 critical, 0 high, 1 medium)

### By Component
- IaC governance: 1 risk
- Promotion pipeline: 1 risk
- Configuration version control: 1 risk
- Rollback automation: 1 risk
- Runbooks/escalation: 1 risk

## Risk Matrix

| Risk ID  | Description                                             | Probability | Impact | Score | Priority |
|----------|---------------------------------------------------------|-------------|--------|-------|----------|
| OPS-016  | Manual environment changes bypass IaC governance        | High (3)    | High (3) | 9   | Critical |
| TECH-012 | Promotion pipeline skips mandatory smoke tests          | Medium (2)  | High (3) | 6   | High     |
| DATA-015 | Configuration version control lacks review/audit trails | Medium (2)  | High (3) | 6   | High     |
| PERF-012 | Promotion pipeline lacks rollback automation            | Medium (2)  | High (3) | 6   | High     |
| BUS-011  | Runbooks and escalation paths not environment-specific  | Medium (2)  | Medium (2) | 4 | Medium   |

## Detailed Risk Register

| Risk ID  | Category | Components Affected                    | Detection Method                               | Mitigation Owner      | Residual Risk |
|----------|----------|----------------------------------------|------------------------------------------------|-----------------------|----------------|
| OPS-016  | Operational | Cloud environments, IaC pipeline   | Drift detection alerts, audit logs             | Platform Ops          | Medium – requires vigilance |
| TECH-012 | Technical | CI/CD promotion workflow             | Pipeline telemetry, policy-as-code checks      | DevOps Engineering    | Medium – ongoing validation needed |
| DATA-015 | Data     | Config repos, feature flag service    | PR audit logs, signed commits, evidence capture| Compliance Engineering | Medium – reliant on process adherence |
| PERF-012 | Performance | Promotion & rollback automation    | Rehearsal metrics, failure simulations         | Platform Ops          | Medium – depends on drill cadence |
| BUS-011  | Business | Runbooks, escalation matrix           | Documentation reviews, tabletop exercises      | Operations Enablement | Low once controlled |

## Risk-Based Testing Strategy

### Priority 1: Critical & High Risks
- Drift detection simulations and IaC enforcement tests (OPS-016).
- Pipeline tests ensuring smoke gates and rollback automation execute (TECH-012, PERF-012).
- Configuration governance checks verifying signed PRs and evidence capture (DATA-015).

### Priority 2: Medium Risks
- Runbook review cycles and tabletop exercises verifying escalation readiness (BUS-011).

### Priority 3: Baseline Regression
- Smoke tests applying IaC to ephemeral environments; monitoring promotion metrics for anomalies.

## Risk Acceptance Criteria

### Must Fix Before Production
- OPS-016 mitigations must confirm no manual drift escapes detection.
- TECH-012/DATA-015 must demonstrate enforced gates and audited config change records.

### Can Deploy with Mitigation
- PERF-012 acceptable with rehearsed rollback automation and alerting.
- BUS-011 acceptable when runbook update cadence is documented and monitored.

### Accepted Risks
- None accepted currently.

## Monitoring Requirements
- Track drift detection events, pipeline gate outcomes, and rollback drill success.
- Monitor configuration change logs and runbook review timestamps.

## Risk Review Triggers
- Addition of new environments or services.
- Major IaC refactors or pipeline tooling changes.
- Audit findings citing environment management or promotion governance.

## Recommendations Summary
- Prevent manual drift through enforced IaC and continuous monitoring.
- Keep promotion gates and rollback automation non-negotiable with evidence capture.
- Maintain configuration governance and runbook currency for every environment.

Risk profile: docs/qa/assessments/3.6-risk-20250926.md
