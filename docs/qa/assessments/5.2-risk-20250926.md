# Risk Profile: Story 5.2

Date: 2025-09-26
Reviewer: Quinn (Test Architect)

## Executive Summary

- Total Risks Identified: 5
- Critical Risks: 1
- High Risks: 3
- Risk Score: 46/100

Automated evidence collection proves DocuGen’s controls executed as designed. Missing or insecure evidence bundles would nullify compliance claims and audit readiness.

## Critical Risks Requiring Immediate Attention

### 1. DATA-021: Evidence Collector Misses Runs or Stores Corrupted Bundles
**Score:** 9 (Critical)

- **Probability:** High (3) – Aggregating manifests, logs, and diff artefacts across services is sequencing-intensive.
- **Impact:** High (3) – Audits fail because control evidence is incomplete or invalid.
- **Mitigation:**
  - Make evidence bundling transactional; treat collector failure as generation failure.
  - Generate and store checksums, bundle manifests, and success metrics for every run.
  - Monitor collector success rate with alerts on misses or hash mismatches.
- **Testing Focus:** Integration tests injecting collector failures; checksum validation during retrieval.

## High-Risk Items

### 2. SEC-017: Evidence Bundles Accessible Without Authorization
**Score:** 6 (High)

- **Probability:** Medium (2) – Evidence may share storage with broader-access manifests.
- **Impact:** High (3) – Sensitive control data leaks beyond authorised personnel.
- **Mitigation:**
  - Store evidence in restricted buckets with encryption, RBAC, and signed URL gating.
  - Audit access logs; alert on anomalous retrieval patterns.
  - Redact sensitive fields before persistence when possible.
- **Testing Focus:** Security penetration tests; access log audits.

### 3. OPS-022: CLI/UI Retrieval SLA (>2 Minutes) Missed
**Score:** 6 (High)

- **Probability:** Medium (2) – Large bundles or cold storage retrieval can exceed SLA.
- **Impact:** High (3) – Operators struggle to respond to audit requests, creating manual workarounds.
- **Mitigation:**
  - Pre-index bundles, leverage caching, and provide asynchronous retrieval with notifications.
  - Monitor latency metrics; auto-scale storage throughput.
  - Offer fallback manual retrieval with documented escalation.
- **Testing Focus:** Performance tests measuring retrieval latency; SLA monitoring in staging.

### 4. TECH-016: Metadata Linking Evidence to Rule Versions/Manifests Breaks
**Score:** 6 (High)

- **Probability:** Medium (2) – Schema changes in rule library or manifests may not update metadata pipeline.
- **Impact:** High (3) – Evidence loses traceability to originating controls, forcing manual reconciliation.
- **Mitigation:**
  - Enforce metadata schema validation in CI; require rule version and manifest IDs in every bundle.
  - Integration tests verifying retrieval responses contain full linkage.
  - Sync with rule library release process to update metadata mapping.
- **Testing Focus:** Schema validation, integration tests on retrieval responses.

## Medium-Risk Items

### 5. BUS-017: Retention Policy Gaps Lead to Evidence Expiry Before Audits
**Score:** 4 (Medium)

- **Probability:** Medium (2) – Lifecycle misconfiguration or manual cleanup can remove bundles prematurely.
- **Impact:** Medium (2) – Audit readiness compromised, requiring costly reconstruction.
- **Mitigation:**
  - Align retention policies with regulatory requirements; monitor expiry schedules.
  - Document retention ownership and conduct quarterly reviews.
  - Alert when bundles approach expiry without successor evidence.
- **Testing Focus:** Lifecycle policy tests; retention monitoring dashboards.

## Risk Distribution

### By Category
- Data: 1 risk (1 critical)
- Security: 1 risk (0 critical, 1 high)
- Operational: 1 risk (0 critical, 1 high)
- Technical: 1 risk (0 critical, 1 high)
- Business: 1 risk (0 critical, 0 high, 1 medium)

### By Component
- Evidence collector pipeline: 1 risk
- Storage/RBAC: 1 risk
- Retrieval UX/performance: 1 risk
- Metadata linkage: 1 risk
- Retention governance: 1 risk

## Risk Matrix

| Risk ID  | Description                                         | Probability | Impact | Score | Priority |
|----------|-----------------------------------------------------|-------------|--------|-------|----------|
| DATA-021 | Evidence collector misses runs or stores corruption  | High (3)    | High (3) | 9   | Critical |
| SEC-017  | Evidence bundles accessible without authorization    | Medium (2)  | High (3) | 6   | High     |
| OPS-022  | CLI/UI retrieval exceeds SLA                         | Medium (2)  | High (3) | 6   | High     |
| TECH-016 | Metadata linkage to rule versions/manifests breaks   | Medium (2)  | High (3) | 6   | High     |
| BUS-017  | Retention policy gaps delete evidence prematurely    | Medium (2)  | Medium (2) | 4 | Medium   |

## Detailed Risk Register

| Risk ID  | Category | Components Affected                   | Detection Method                                | Mitigation Owner      | Residual Risk |
|----------|----------|---------------------------------------|-------------------------------------------------|-----------------------|----------------|
| DATA-021 | Data     | Evidence collector, storage pipeline  | Integration tests, monitoring dashboards        | Platform Engineering  | Medium – requires continuous monitoring |
| SEC-017  | Security | Evidence storage, access controls     | Security audits, access log reviews             | Security Engineering  | Medium – dependent on RBAC upkeep |
| OPS-022  | Operational | CLI/UI retrieval services         | SLA telemetry, performance testing              | Operations Enablement | Medium – reliant on capacity tuning |
| TECH-016 | Technical | Metadata schema, rule linkage        | CI schema validation, integration tests         | Compliance Engineering | Medium – must track rule updates |
| BUS-017  | Business | Retention policies, governance        | Lifecycle audits, compliance reviews            | Compliance Operations | Low with governance enforcement |

## Risk-Based Testing Strategy

### Priority 1: Critical & High Risks
- Collector failure injection tests and checksum validation (DATA-021).
- Security and SLA testing for retrieval pathways (SEC-017, OPS-022).
- Metadata schema enforcement with integration tests (TECH-016).

### Priority 2: Medium Risks
- Retention policy audits and monitoring checks (BUS-017).

### Priority 3: Baseline Regression
- Smoke tests verifying evidence bundle generation, storage, and retrieval flows end to end.

## Risk Acceptance Criteria

### Must Fix Before Production
- DATA-021 mitigations must prove evidence bundles are always captured and verifiable.
- SEC-017/OPS-022/TECH-016 controls must demonstrate secure access, SLA adherence, and traceable metadata.

### Can Deploy with Mitigation
- BUS-017 acceptable with documented retention governance and monitoring.

### Accepted Risks
- None accepted currently.

## Monitoring Requirements
- Track collector success, checksum validation, retrieval latency, and access logs.
- Monitor retention countdowns and evidence inventory health.

## Risk Review Triggers
- Changes to artefact composition, storage infrastructure, or compliance requirements.
- Incident postmortems referencing evidence gaps.
- Audit findings calling out evidence availability or access control issues.

## Recommendations Summary
- Treat evidence bundling as critical path with transactional guarantees.
- Secure evidence storage and retrieval flows with strong RBAC and SLA monitoring.
- Maintain metadata and retention governance to keep audits satisfied.

Risk profile: docs/qa/assessments/5.2-risk-20250926.md
