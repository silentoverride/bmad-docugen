# Risk Profile: Story 3.4

Date: 2025-09-26
Reviewer: Quinn (Test Architect)

## Executive Summary

- Total Risks Identified: 5
- Critical Risks: 1
- High Risks: 3
- Risk Score: 41/100

Observability is the safety net for compliance and operational regressions. The most severe exposure is alert blind spots that let SLA or policy violations persist unnoticed.

## Critical Risks Requiring Immediate Attention

### 1. OPS-014: Alert Policies Miss Critical SLA/Compliance Breaches
**Score:** 9 (Critical)

- **Probability:** High (3) – Mapping diverse metrics (duration, failures, fidelity) to actionable alerts is complex and often tuned too loosely.
- **Impact:** High (3) – Production issues go undetected, causing customer impact and regulatory risk.
- **Mitigation:**
  - Co-design alert thresholds with product, compliance, and SRE; include acceptance testing in staging.
  - Implement alert simulations and synthetic checks to validate routing before go-live.
  - Continuously review alert fatigue metrics and adjust promptly.
- **Testing Focus:** Synthetic breach tests triggering each alert path; runbook validation ensuring on-call receives and responds.

## High-Risk Items

### 2. DATA-013: Dashboard Metrics Lack Traceability to Manifests
**Score:** 6 (High)

- **Probability:** Medium (2) – Without consistent labels, dashboards cannot drill down into runs/manifests.
- **Impact:** High (3) – Teams waste time correlating incidents; auditors lack confidence in metrics.
- **Mitigation:**
  - Standardise metric labels to include manifest IDs, rule ids, and environment tags.
  - Provide deep link helpers from panels to manifest viewer.
  - Add automated tests verifying required labels on emitted metrics.
- **Testing Focus:** Integration tests on metrics exporter; dashboard e2e tests for drill-down links.

### 3. TECH-011: Dashboard as Code Falls Out of Sync with Environments
**Score:** 6 (High)

- **Probability:** Medium (2) – Manual dashboard edits bypass Git-managed sources.
- **Impact:** High (3) – Staging/prod drift leads to missing panels or wrong thresholds.
- **Mitigation:**
  - Enforce IaC for dashboards with CI validation; disable manual edits in Grafana when possible.
  - Run drift detection jobs comparing live dashboards with Git source.
  - Apply code review gates for observability changes.
- **Testing Focus:** Infrastructure tests comparing Grafana API exports vs repo; CI guard.

### 4. PERF-010: Metric Ingestion Lag Causes Stale Views
**Score:** 6 (High)

- **Probability:** Medium (2) – High-volume metrics from rendering, rules, and queue can saturate collectors.
- **Impact:** High (3) – Dashboards show outdated data, delaying incident response.
- **Mitigation:**
  - Scale Prometheus/Tempo collectors; use remote write with backpressure controls.
  - Monitor ingestion lag and drop rates with alerts.
  - Optimize cardinality by enforcing label hygiene.
- **Testing Focus:** Load tests on telemetry pipeline; monitoring ingestion-lag dashboards.

## Medium-Risk Items

### 5. BUS-009: Runbooks Lack Tested Remediation Steps
**Score:** 4 (Medium)

- **Probability:** Medium (2) – Documentation may be written but not validated via drills.
- **Impact:** Medium (2) – On-call confusion prolongs incidents, increasing SLA breaches.
- **Mitigation:**
  - Conduct quarterly game days exercising each top failure mode.
  - Require sign-off from SRE and compliance after each drill.
  - Version runbooks with change history and quick reference.
- **Testing Focus:** Game day retrospectives captured as artefacts; doc linting for completeness.

## Risk Distribution

### By Category
- Operational: 2 risks (1 critical, 1 high)
- Data: 1 risk (0 critical, 1 high)
- Technical: 1 risk (0 critical, 1 high)
- Performance: 1 risk (0 critical, 1 high)
- Business: 1 risk (0 critical, 0 high, 1 medium)

### By Component
- Alerting policies: 1 risk
- Metrics labeling/export: 1 risk
- Dashboard IaC: 1 risk
- Telemetry pipeline: 1 risk
- Runbooks: 1 risk

## Risk Matrix

| Risk ID  | Description                                         | Probability | Impact | Score | Priority |
|----------|-----------------------------------------------------|-------------|--------|-------|----------|
| OPS-014  | Alert policies miss critical SLA/compliance breaches | High (3)    | High (3) | 9   | Critical |
| DATA-013 | Dashboard metrics lack manifest traceability         | Medium (2)  | High (3) | 6   | High     |
| TECH-011 | Dashboard as code falls out of sync                  | Medium (2)  | High (3) | 6   | High     |
| PERF-010 | Metric ingestion lag causes stale views              | Medium (2)  | High (3) | 6   | High     |
| BUS-009  | Runbooks lack tested remediation steps               | Medium (2)  | Medium (2) | 4 | Medium   |

## Detailed Risk Register

| Risk ID  | Category | Components Affected                    | Detection Method                                  | Mitigation Owner      | Residual Risk |
|----------|----------|----------------------------------------|---------------------------------------------------|-----------------------|----------------|
| OPS-014  | Operational | Alert rules, notification routing  | Synthetic alert tests, on-call drills             | SRE                   | Medium – requires continuous tuning |
| DATA-013 | Data     | Metrics exporters, dashboards          | Metrics schema tests, dashboard integration tests | Observability Team    | Medium – dependent on governance |
| TECH-011 | Technical | Dashboard IaC, Grafana config         | Drift detection, CI validation                    | Platform Engineering  | Medium – ongoing compliance needed |
| PERF-010 | Performance | Telemetry collectors, queues        | Load testing, ingestion lag monitoring            | SRE                   | Medium – scaling must be maintained |
| BUS-009  | Business | Runbooks, training                     | Game day retrospectives, documentation reviews    | Operations Enablement | Low with regular drills |

## Risk-Based Testing Strategy

### Priority 1: Critical & High Risks
- Synthetic SLA breach tests verifying alert routing (OPS-014).
- Metrics label contract tests and dashboard IaC drift detection (DATA-013, TECH-011).
- Telemetry load tests targeting ingestion lag (PERF-010).

### Priority 2: Medium Risks
- Runbook game day validation and documentation linting (BUS-009).

### Priority 3: Baseline Regression
- Smoke checks ensuring dashboards link to manifests and alerts integrate with incident tooling.

## Risk Acceptance Criteria

### Must Fix Before Production
- OPS-014 controls must be validated with synthetic alert drills.
- DATA-013 and TECH-011 governance must demonstrate traceability and IaC compliance.

### Can Deploy with Mitigation
- PERF-010 acceptable with ingestion lag monitoring and scaling plan.
- BUS-009 acceptable if drill schedule is agreed and tracked.

### Accepted Risks
- None accepted currently.

## Monitoring Requirements
- Track alert firing vs acknowledgment metrics, ingestion lag, and dashboard drift reports.
- Monitor runbook update cadence and drill outcomes.

## Risk Review Triggers
- Introduction of new metrics or alert types.
- Tooling migrations (Grafana, Prometheus) or retention policy changes.
- Incident postmortems citing observability gaps.

## Recommendations Summary
- Validate alerting with synthetic failures before launch.
- Standardise metric labeling and manage dashboards via code to prevent drift.
- Scale telemetry pipelines and keep runbooks battle-tested.

Risk profile: docs/qa/assessments/3.4-risk-20250926.md
